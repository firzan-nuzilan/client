version: '3.8'

services:
  companytec-client:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: companytec-client
    environment:
      - DEVICE_HOST=${DEVICE_HOST:-127.0.0.1}
      - DEVICE_PORT=${DEVICE_PORT:-2001}
      - API_PORT=${API_PORT:-3000}
    # Use host networking to access device on host network (port 2001)
    # This allows the container to connect to devices on 127.0.0.1 or host's network
    network_mode: host
    # Note: When using host network mode, ports mapping is not needed
    # The API will be accessible directly on the host's port
    restart: unless-stopped

# Networks section not needed when using network_mode: host
# networks:
#   companytec-network:
#     driver: bridge

